(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))l(o);new MutationObserver(o=>{for(const f of o)if(f.type==="childList")for(const h of f.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&l(h)}).observe(document,{childList:!0,subtree:!0});function i(o){const f={};return o.integrity&&(f.integrity=o.integrity),o.referrerPolicy&&(f.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?f.credentials="include":o.crossOrigin==="anonymous"?f.credentials="omit":f.credentials="same-origin",f}function l(o){if(o.ep)return;o.ep=!0;const f=i(o);fetch(o.href,f)}})();const Mr=Object.assign||((e,n)=>(n&&Object.keys(n).forEach(i=>e[i]=n[i]),e)),nt=(e,n,i)=>{const l=typeof i;if(i&&l==="object")if(Array.isArray(i))for(const o of i)n=nt(e,n,o);else for(const o of Object.keys(i)){const f=i[o];typeof f=="function"?n[o]=f(n[o],de):f===void 0?e&&!isNaN(o)?n.splice(o,1):delete n[o]:f===null||typeof f!="object"||Array.isArray(f)?n[o]=f:typeof n[o]=="object"?n[o]=f===n[o]?f:de(n[o],f):n[o]=nt(!1,{},f)}else l==="function"&&(n=i(n,de));return n},de=(e,...n)=>{const i=Array.isArray(e);return nt(i,i?e.slice():Mr({},e),n)},kr=({stream:e,accumulator:n,combine:i,app:l})=>{if(!e)throw new Error("No stream library was specified.");if(!n)throw new Error("No accumulator function was specified.");if(!i)throw new Error("No combine function was specified.");l=Object.assign({initial:{},Actions:()=>({}),services:[],Effects:()=>[]},l);const o=E=>Array.isArray(E)?i(E):E,f=(E,q)=>q?n(E,o(q)):E,h=typeof e=="function"?e:e.stream,u=e.scan,s=h(),p=E=>l.services.reduce((q,x)=>f(q,x(q)),E),A=u((E,q)=>p(f(E,q)),p(l.initial),s),y=l.Actions(s,A),$=l.Effects(s,y);return A.map(E=>$.forEach(q=>q(E))),{states:A,update:s,actions:y}},qr=({stream:e,merge:n,app:i})=>kr({stream:e,accumulator:n,combine:l=>l,app:i}),ut=e=>{const n=[];let i=e,l=[];const o=f=>{if(f!==void 0){i=f,l.forEach(h=>h.push(f));for(const h in n){const u=l[h].shift();n[h](u)}}return i};return o.map=f=>{const h=ut();return n.push(u=>{h(f(u))}),l.push([]),i!==void 0&&h(f(i)),h},o},Ir=(e,n,i)=>{const l=ut(n);let o=n;return i.map(f=>{o=e(o,f),l(o)}),l},Nr={stream:ut,scan:Ir},Pr=e=>document.getElementById(e),zr=e=>e.replace(/([a-z]+)/gi,n=>n.charAt(0).toUpperCase()+n.slice(1)),Lr=e=>{const n=document.createElement("div");return n.innerHTML=e,n.childNodes.length===0?"":n.childNodes[0].nodeValue},tr=e=>Lr(e).replace(/<a/gi,'<a target="_blank"'),Br=(e,n,i={})=>{let l;const o=(...f)=>{clearTimeout(i.current);const h=Date.now()-l;if(h<e){i.current=setTimeout(o,e-h,...f);return}l=Date.now(),n(...f)};return o},Tr=e=>n=>(n.redraw=!1,e(n)),rr=(e,n)=>n!==1?e+"s":e,it=e=>{const n=new Date(e),i=(Date.now()-n.getTime())/1e3,l=Math.floor(i/86400);if(!(isNaN(l)||l<0||l>=31))return l==0&&(i<60&&"just now"||i<120&&"1 minute ago"||i<3600&&Math.floor(i/60)+" minutes ago"||i<7200&&"1 hour ago"||i<86400&&Math.floor(i/3600)+" hours ago")||l==1&&"Yesterday"||l<7&&l+" days ago"||l<31&&Math.ceil(l/7)+" weeks ago"},nr=(e,n)=>{const i=n.target,l=zr(e),o=i.style,f=window["inner"+l],h=i["natural"+l]||i["video"+l]||"",u=i["client"+l];let s=o[e];!s&&(h===u||h*.8<=u)&&(s=h+""),s?s.includes(h)&&h<=f*.99?(o[e]=h*1.75+"px",o.maxHeight="none"):(o[e]="",o.maxHeight=""):(o[e]=h+"px",o.maxHeight="none")},Sr=(e,n={})=>{try{return JSON.parse(e)}catch{return n}},at=(e,n=1)=>{let i,l;return e>999999?(i="M",l=1e6):e>999&&(i="k",l=1e3),l?(e/l).toFixed(n)+i:e},Qr=(e,n)=>n.split(".").reduce((i,l)=>i?i[l]:null,e),{isArray:Hr}=Array,{hasOwnProperty:jr,getPrototypeOf:Ur}=Object,he=(...e)=>console.error("zaftig:",...e),ye=(e,n={})=>i=>i in n?n[i]:n[i]=e(i),be=document.documentMode||/Edge\//.test(navigator.userAgent)?"ms":navigator.vendor?"webkit":"moz",ir=e=>jr.call(e,"width")?e:ir(Ur(e)),$t=Object.keys(ir(document.documentElement.style)).filter(e=>e.indexOf("-")<0&&e!="length"),ot={},ve={};$t.concat(["backgroundColor","borderBottom","borderRadius","bottom","boxShadow","color","display","flexDirection","float","fontFamily","fontSize","height","margin","marginTop","marginBottom","opacity","padding","paddingBottom","right","textAlign","textDecoration","top","whiteSpace","width"].filter(e=>$t.indexOf(e)>=0)).forEach(e=>{let n=e.replace(/[A-Z]/g,o=>"-"+o.toLowerCase()),i=(l=e)[0]+l.slice(1).replace(/[a-z]/g,"").toLowerCase();var l;e.toLowerCase().indexOf(be)==0?(i=i.slice(1),n=n[0]=="-"?n:"-"+n,ve[i]||(ve[i]=n)):ve[i]=n,ot[n]=!0});const Et=document.createElement("div"),Fr=ye(e=>["0","0 0"].some(n=>(Et.style.cssText=`${e}: ${n};`,Et.style.cssText.slice(-3)=="px;")),{flex:!1,border:!0,"border-left":!0,"border-right":!0,"border-top":!0,"border-bottom":!0}),Ot=/\s*,\s*/,ge=(e,n)=>e&&n?`
${e} {
${n}}
`:"",we=e=>function(n,...i){try{return Hr(n)?e.call(this,((l,o)=>l.reduce((f,h,u)=>f+h+(o[u]==null?"":String(o[u])),""))(n,i)):e.call(this,n)}catch(l){return he("error `",n,"`",i,`
`,l),""}},ar=()=>document.head.appendChild(document.createElement("style"));let se;const Rt=(e,n="")=>{try{se&&se.sheet||(se=ar()),se.sheet.insertRule(`${e}{${n}}`,0);const i=n&&se.sheet.cssRules[0].cssText.replace(/\s/g,"");return se.sheet.deleteRule(0),!i||i.length>e.length+2}catch{return!1}},or=(e={})=>{const{helpers:n={},unit:i="px",id:l="z"+Math.random().toString(36).slice(2)}=e;let{style:o,dot:f=!0,debug:h=!1}=e,u=0;class s{constructor(w){this.class=w,this.className=w}toString(){return this.class}valueOf(){return f?"."+this.class:this.class}z(...w){return this.concat(Y(...w))}concat(...w){return p(this.class,...w)}}const p=(...v)=>{const w=[];return v.forEach(O=>{O&&(typeof O=="string"?w.push(O):O.className&&w.push(O.className))}),new s(w.join(" "))},A=(v,w,O)=>{const M=ge(O?(j=>j.replace(/(::?)([a-z-]+)(\()?/gi,(C,S,L,k)=>(L=="placeholder"&&be!="moz"?L="input-"+L:L=="matches"&&(L="any"),L[0]=="-"||Rt(k?C+".f)":C)?C:`${S}-${be}-${L}${k||""}`)))(v):v,w);if(M){o||(o=ar(),o.id=l);try{o.sheet.insertRule(M,o.sheet.cssRules.length),h&&(o.textContent+=M)}catch(j){!O&&v.indexOf(":")>=0?A(v,w,!0):he("insert failed",v,w,j)}}},y=v=>v.replace(/^/gm,"  ")+`
`,$=(v,w,O="",M)=>{if(!v)return h&&he("missing selector",w);if(/^@(media|keyframes|supports)/.test(v))return((C,S,L,k)=>{S.t=ge(L==""?":root":L,S.t),S.o.forEach(R=>$(R.i,R,L,S)),k?k.t+=ge(C,y(S.t)):A(C,y(S.t))})(v,w,O,M);!O||M&&(C=>C&&C.indexOf("@keyframes")==0)(M.i)||(v=((C,S)=>S.split(Ot).reduce((L,k)=>L.concat(C.split(Ot).map(R=>R.indexOf("&")>=0?R.replace(/&/g,k):k+(R[0]==":"||R[0]=="["?"":" ")+R)),[]).join(`,
`))(v,O)),M?M.t+=ge(v,w.t):A(v,w.t);const j=v==":root"?"":v;w.o.forEach(C=>$(C.i,C,j,M))},E=(v,w)=>{const O=n[v];return typeof O=="function"?O(...w?w.split(" "):[]):O&&O+" "+w},q=(v,w,O)=>{if(O&&!w&&(w=O,O=""),!w)return;if(w[0]=="$"){if(w=="$name")return v.u=O;if(w=="$compose")return v.l=O;w="--"+w.slice(1)}const M=E(w,O);if(M){const C=x(M);return v.t+=C.t,void(v.o=v.o.concat(C.o))}if(!O)return h&&he("no value for",w);if(w=ve[w]||w,!ot[w]){const C=`-${be}-${w}`;ot[C]&&(w=C)}O.indexOf("$")>=0&&(O=O.replace(/\$([a-z0-9-]+)/gi,"var(--$1)")),Fr(w)&&(O=O.split(" ").map(C=>isNaN(C)?C:C+i).join(" "));const j=`  ${w}: ${O};
`;h&&!Rt(l,j)&&he("invalid css",j),v.t+=j},x=ye(v=>{const w=[{t:"",o:[]}];if(!(v=v&&v.trim()))return w[0];v+=";";let O=1,M="",j=0,C="",S="";for(let L=0;L<v.length;L++){const k=v[L];k!=`
`&&(k!=";"&&k!="}"||C)?k!="{"||C?O==1?k==" "?(S=M.trim())&&(O=2,M=""):M+=k:O==2&&(C?k==C&&v[L-1]!="\\"&&(C=""):k!="'"&&k!='"'||(C=k),M+=k):(w[++j]={i:E(S,M.trim())||(S+" "+M).trim(),t:"",o:[]},O=1,S=M=""):(q(w[j],S,M.trim()+C),k=="}"&&w[--j].o.push(w.pop()),O=1,S=M=C="")}return w[0]}),T=ye(v=>{const w="anim-"+l+"-"+(u+=1);return $("@keyframes "+w,x(v)),w}),Z=ye(v=>{const w=x(v),O=(w.u?w.u+"-":"")+l+"-"+(u+=1);return $("."+O,w),new s(O+(w.l?" "+w.l:""))}),Y=we(Z);return Y.anim=we(T),Y.concat=p,Y.getSheet=()=>o,Y.global=we(v=>$(":root",x(v))),Y.helper=v=>Object.assign(n,v),Y.new=or,Y.setDebug=v=>h=v,Y.setDot=v=>f=v,Y.style=we(v=>x(v).t),Y},b=or();function _r(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Ne,Dt;function ie(){if(Dt)return Ne;Dt=1;function e(n,i,l,o,f,h){return{tag:n,key:i,attrs:l,children:o,text:f,dom:h,is:void 0,domSize:void 0,state:void 0,events:void 0,instance:void 0}}return e.normalize=function(n){return Array.isArray(n)?e("[",void 0,void 0,e.normalizeChildren(n),void 0,void 0):n==null||typeof n=="boolean"?null:typeof n=="object"?n:e("#",void 0,void 0,String(n),void 0,void 0)},e.normalizeChildren=function(n){var i=[];if(n.length){for(var l=n[0]!=null&&n[0].key!=null,o=1;o<n.length;o++)if((n[o]!=null&&n[o].key!=null)!==l)throw new TypeError(l&&(n[o]!=null||typeof n[o]=="boolean")?"In fragments, vnodes must either all have keys or none have keys. You may wish to consider using an explicit keyed empty fragment, m.fragment({key: ...}), instead of a hole.":"In fragments, vnodes must either all have keys or none have keys.");for(var o=0;o<n.length;o++)i[o]=e.normalize(n[o])}return i},Ne=e,Ne}var Pe,Mt;function lr(){if(Mt)return Pe;Mt=1;var e=ie();return Pe=function(){var n=arguments[this],i=this+1,l;if(n==null?n={}:(typeof n!="object"||n.tag!=null||Array.isArray(n))&&(n={},i=this),arguments.length===i+1)l=arguments[i],Array.isArray(l)||(l=[l]);else for(l=[];i<arguments.length;)l.push(arguments[i++]);return e("",n.key,n,l)},Pe}var ze,kt;function ft(){return kt||(kt=1,ze={}.hasOwnProperty),ze}var Le,qt;function sr(){if(qt)return Le;qt=1;var e=ie(),n=lr(),i=ft(),l=/(?:(^|#|\.)([^#\.\[\]]+))|(\[(.+?)(?:\s*=\s*("|'|)((?:\\["'\]]|.)*?)\5)?\])/g,o=Object.create(null);function f(p){for(var A in p)if(i.call(p,A))return!1;return!0}function h(p){for(var A,y="div",$=[],E={};A=l.exec(p);){var q=A[1],x=A[2];if(q===""&&x!=="")y=x;else if(q==="#")E.id=x;else if(q===".")$.push(x);else if(A[3][0]==="["){var T=A[6];T&&(T=T.replace(/\\(["'])/g,"$1").replace(/\\\\/g,"\\")),A[4]==="class"?$.push(T):E[A[4]]=T===""?T:T||!0}}return $.length>0&&(E.className=$.join(" ")),f(E)&&(E=null),o[p]={tag:y,attrs:E}}function u(p,A){var y=A.attrs,$=i.call(y,"class"),E=$?y.class:y.className;return A.tag=p.tag,p.attrs!=null?(y=Object.assign({},p.attrs,y),(E!=null||p.attrs.className!=null)&&(y.className=E!=null?p.attrs.className!=null?String(p.attrs.className)+" "+String(E):E:p.attrs.className!=null?p.attrs.className:null)):E!=null&&(y.className=E),$&&(y.class=null),p.tag==="input"&&i.call(y,"type")&&(y=Object.assign({type:y.type},y)),A.is=y.is,A.attrs=y,A}function s(p){if(p==null||typeof p!="string"&&typeof p!="function"&&typeof p.view!="function")throw Error("The selector must be either a string or a component.");var A=n.apply(1,arguments);return typeof p=="string"&&(A.children=e.normalizeChildren(A.children),p!=="[")?u(o[p]||h(p),A):(A.tag=p,A)}return Le=s,Le}var Be,It;function Kr(){if(It)return Be;It=1;var e=ie();return Be=function(n){return n==null&&(n=""),e("<",void 0,void 0,n,void 0,void 0)},Be}var Te,Nt;function Yr(){if(Nt)return Te;Nt=1;var e=ie(),n=lr();return Te=function(){var i=n.apply(0,arguments);return i.tag="[",i.children=e.normalizeChildren(i.children),i},Te}var Se,Pt;function Gr(){if(Pt)return Se;Pt=1;var e=sr();return e.trust=Kr(),e.fragment=Yr(),Se=e,Se}var Qe,zt;function cr(){if(zt)return Qe;zt=1;var e=new WeakMap;function*n(i){var l=i.dom,o=i.domSize,f=e.get(l);if(l!=null)do{var h=l.nextSibling;e.get(l)===f&&(yield l,o--),l=h}while(o)}return Qe={delayedRemoval:e,domFor:n},Qe}var He,Lt;function Jr(){if(Lt)return He;Lt=1;var e=ie(),n=cr(),i=n.delayedRemoval,l=n.domFor;return He=function(){var o={svg:"http://www.w3.org/2000/svg",math:"http://www.w3.org/1998/Math/MathML"},f,h;function u(r){return r.ownerDocument}function s(r){return r.attrs&&r.attrs.xmlns||o[r.tag]}function p(r,t){if(r.state!==t)throw new Error("'vnode.state' must not be modified.")}function A(r){var t=r.state;try{return this.apply(t,arguments)}finally{p(r,t)}}function y(r){try{return u(r).activeElement}catch{return null}}function $(r,t,a,c,d,g,I){for(var z=a;z<c;z++){var D=t[z];D!=null&&E(r,D,d,I,g)}}function E(r,t,a,c,d){var g=t.tag;if(typeof g=="string")switch(t.state={},t.attrs!=null&&Ee(t.attrs,t,a),g){case"#":q(r,t,d);break;case"<":T(r,t,c,d);break;case"[":Z(r,t,a,c,d);break;default:Y(r,t,a,c,d)}else w(r,t,a,c,d)}function q(r,t,a){t.dom=u(r).createTextNode(t.children),P(r,t.dom,a)}var x={caption:"table",thead:"table",tbody:"table",tfoot:"table",tr:"tbody",th:"tr",td:"tr",colgroup:"table",col:"colgroup"};function T(r,t,a,c){var d=t.children.match(/^\s*?<(\w+)/im)||[],g=u(r).createElement(x[d[1]]||"div");a==="http://www.w3.org/2000/svg"?(g.innerHTML='<svg xmlns="http://www.w3.org/2000/svg">'+t.children+"</svg>",g=g.firstChild):g.innerHTML=t.children,t.dom=g.firstChild,t.domSize=g.childNodes.length;for(var I=u(r).createDocumentFragment(),z;z=g.firstChild;)I.appendChild(z);P(r,I,c)}function Z(r,t,a,c,d){var g=u(r).createDocumentFragment();if(t.children!=null){var I=t.children;$(g,I,0,I.length,a,null,c)}t.dom=g.firstChild,t.domSize=g.childNodes.length,P(r,g,d)}function Y(r,t,a,c,d){var g=t.tag,I=t.attrs,z=t.is;c=s(t)||c;var D=c?z?u(r).createElementNS(c,g,{is:z}):u(r).createElementNS(c,g):z?u(r).createElement(g,{is:z}):u(r).createElement(g);if(t.dom=D,I!=null&&xr(t,I,c),P(r,D,d),!ee(t)&&t.children!=null){var B=t.children;$(D,B,0,B.length,a,null,c),t.tag==="select"&&I!=null&&$r(t,I)}}function v(r,t){var a;if(typeof r.tag.view=="function"){if(r.state=Object.create(r.tag),a=r.state.view,a.$$reentrantLock$$!=null)return;a.$$reentrantLock$$=!0}else{if(r.state=void 0,a=r.tag,a.$$reentrantLock$$!=null)return;a.$$reentrantLock$$=!0,r.state=r.tag.prototype!=null&&typeof r.tag.prototype.view=="function"?new r.tag(r):r.tag(r)}if(Ee(r.state,r,t),r.attrs!=null&&Ee(r.attrs,r,t),r.instance=e.normalize(A.call(r.state.view,r)),r.instance===r)throw Error("A view cannot return the vnode it received as argument");a.$$reentrantLock$$=null}function w(r,t,a,c,d){v(t,a),t.instance!=null?(E(r,t.instance,a,c,d),t.dom=t.instance.dom,t.domSize=t.dom!=null?t.instance.domSize:0):t.domSize=0}function O(r,t,a,c,d,g){if(!(t===a||t==null&&a==null))if(t==null||t.length===0)$(r,a,0,a.length,c,d,g);else if(a==null||a.length===0)ae(r,t,0,t.length);else{var I=t[0]!=null&&t[0].key!=null,z=a[0]!=null&&a[0].key!=null,D=0,B=0;if(!I)for(;B<t.length&&t[B]==null;)B++;if(!z)for(;D<a.length&&a[D]==null;)D++;if(I!==z)ae(r,t,B,t.length),$(r,a,D,a.length,c,d,g);else if(z){for(var V=t.length-1,J=a.length-1,Ae,X,_,W,H,De;V>=B&&J>=D&&(W=t[V],H=a[J],W.key===H.key);)W!==H&&M(r,W,H,c,d,g),H.dom!=null&&(d=H.dom),V--,J--;for(;V>=B&&J>=D&&(X=t[B],_=a[D],X.key===_.key);)B++,D++,X!==_&&M(r,X,_,c,G(t,B,d),g);for(;V>=B&&J>=D&&!(D===J||X.key!==H.key||W.key!==_.key);)De=G(t,B,d),F(r,W,De),W!==_&&M(r,W,_,c,De,g),++D<=--J&&F(r,X,d),X!==H&&M(r,X,H,c,d,g),H.dom!=null&&(d=H.dom),B++,V--,W=t[V],H=a[J],X=t[B],_=a[D];for(;V>=B&&J>=D&&W.key===H.key;)W!==H&&M(r,W,H,c,d,g),H.dom!=null&&(d=H.dom),V--,J--,W=t[V],H=a[J];if(D>J)ae(r,t,B,V+1);else if(B>V)$(r,a,D,J+1,c,d,g);else{var Dr=d,Ct=J-D+1,me=new Array(Ct),Me=0,U=0,ke=2147483647,qe=0,Ae,Ie;for(U=0;U<Ct;U++)me[U]=-1;for(U=J;U>=D;U--){Ae==null&&(Ae=R(t,B,V+1)),H=a[U];var le=Ae[H.key];le!=null&&(ke=le<ke?le:-1,me[U-D]=le,W=t[le],t[le]=null,W!==H&&M(r,W,H,c,d,g),H.dom!=null&&(d=H.dom),qe++)}if(d=Dr,qe!==V-B+1&&ae(r,t,B,V+1),qe===0)$(r,a,D,J+1,c,d,g);else if(ke===-1)for(Ie=Q(me),Me=Ie.length-1,U=J;U>=D;U--)_=a[U],me[U-D]===-1?E(r,_,c,g,d):Ie[Me]===U-D?Me--:F(r,_,d),_.dom!=null&&(d=a[U].dom);else for(U=J;U>=D;U--)_=a[U],me[U-D]===-1&&E(r,_,c,g,d),_.dom!=null&&(d=a[U].dom)}}else{var Re=t.length<a.length?t.length:a.length;for(D=D<B?D:B;D<Re;D++)X=t[D],_=a[D],!(X===_||X==null&&_==null)&&(X==null?E(r,_,c,g,G(t,D+1,d)):_==null?re(r,X):M(r,X,_,c,G(t,D+1,d),g));t.length>Re&&ae(r,t,D,t.length),a.length>Re&&$(r,a,D,a.length,c,d,g)}}}function M(r,t,a,c,d,g){var I=t.tag,z=a.tag;if(I===z&&t.is===a.is){if(a.state=t.state,a.events=t.events,Rr(a,t))return;if(typeof I=="string")switch(a.attrs!=null&&Oe(a.attrs,a,c),I){case"#":j(t,a);break;case"<":C(r,t,a,g,d);break;case"[":S(r,t,a,c,d,g);break;default:L(t,a,c,g)}else k(r,t,a,c,d,g)}else re(r,t),E(r,a,c,g,d)}function j(r,t){r.children.toString()!==t.children.toString()&&(r.dom.nodeValue=t.children),t.dom=r.dom}function C(r,t,a,c,d){t.children!==a.children?(wt(r,t),T(r,a,c,d)):(a.dom=t.dom,a.domSize=t.domSize)}function S(r,t,a,c,d,g){O(r,t.children,a.children,c,d,g);var I=0,z=a.children;if(a.dom=null,z!=null){for(var D=0;D<z.length;D++){var B=z[D];B!=null&&B.dom!=null&&(a.dom==null&&(a.dom=B.dom),I+=B.domSize||1)}I!==1&&(a.domSize=I)}}function L(r,t,a,c){var d=t.dom=r.dom;c=s(t)||c,Er(t,r.attrs,t.attrs,c),ee(t)||O(d,r.children,t.children,a,null,c)}function k(r,t,a,c,d,g){if(a.instance=e.normalize(A.call(a.state.view,a)),a.instance===a)throw Error("A view cannot return the vnode it received as argument");Oe(a.state,a,c),a.attrs!=null&&Oe(a.attrs,a,c),a.instance!=null?(t.instance==null?E(r,a.instance,c,g,d):M(r,t.instance,a.instance,c,d,g),a.dom=a.instance.dom,a.domSize=a.instance.domSize):t.instance!=null?(re(r,t.instance),a.dom=void 0,a.domSize=0):(a.dom=t.dom,a.domSize=t.domSize)}function R(r,t,a){for(var c=Object.create(null);t<a;t++){var d=r[t];if(d!=null){var g=d.key;g!=null&&(c[g]=t)}}return c}var N=[];function Q(r){for(var t=[0],a=0,c=0,d=0,g=N.length=r.length,d=0;d<g;d++)N[d]=r[d];for(var d=0;d<g;++d)if(r[d]!==-1){var I=t[t.length-1];if(r[I]<r[d]){N[d]=I,t.push(d);continue}for(a=0,c=t.length-1;a<c;){var z=(a>>>1)+(c>>>1)+(a&c&1);r[t[z]]<r[d]?a=z+1:c=z}r[d]<r[t[a]]&&(a>0&&(N[d]=t[a-1]),t[a]=d)}for(a=t.length,c=t[a-1];a-- >0;)t[a]=c,c=N[c];return N.length=0,t}function G(r,t,a){for(;t<r.length;t++)if(r[t]!=null&&r[t].dom!=null)return r[t].dom;return a}function F(r,t,a){if(t.dom!=null){var c;if(t.domSize==null)c=t.dom;else{c=u(r).createDocumentFragment();for(var d of l(t))c.appendChild(d)}P(r,c,a)}}function P(r,t,a){a!=null?r.insertBefore(t,a):r.appendChild(t)}function ee(r){if(r.attrs==null||r.attrs.contenteditable==null&&r.attrs.contentEditable==null)return!1;var t=r.children;if(t!=null&&t.length===1&&t[0].tag==="<"){var a=t[0].children;r.dom.innerHTML!==a&&(r.dom.innerHTML=a)}else if(t!=null&&t.length!==0)throw new Error("Child node of a contenteditable must be trusted.");return!0}function ae(r,t,a,c){for(var d=a;d<c;d++){var g=t[d];g!=null&&re(r,g)}}function pe(r,t,a,c){var d=t.state,g=A.call(a.onbeforeremove,t);if(g!=null){var I=h;for(var z of l(t))i.set(z,I);c.v++,Promise.resolve(g).finally(function(){p(t,d),oe(r,t,c)})}}function oe(r,t,a){--a.v===0&&(xe(t),wt(r,t))}function re(r,t){var a={v:1};typeof t.tag!="string"&&typeof t.state.onbeforeremove=="function"&&pe(r,t,t.state,a),t.attrs&&typeof t.attrs.onbeforeremove=="function"&&pe(r,t,t.attrs,a),oe(r,t,a)}function wt(r,t){if(t.dom!=null)if(t.domSize==null)r.removeChild(t.dom);else for(var a of l(t))r.removeChild(a)}function xe(r){if(typeof r.tag!="string"&&typeof r.state.onremove=="function"&&A.call(r.state.onremove,r),r.attrs&&typeof r.attrs.onremove=="function"&&A.call(r.attrs.onremove,r),typeof r.tag!="string")r.instance!=null&&xe(r.instance);else{var t=r.children;if(Array.isArray(t))for(var a=0;a<t.length;a++){var c=t[a];c!=null&&xe(c)}}}function xr(r,t,a){for(var c in t)Ce(r,c,null,t[c],a)}function Ce(r,t,a,c,d){if(!(t==="key"||c==null||yt(t)||a===c&&!Or(r,t)&&typeof c!="object")){if(t[0]==="o"&&t[1]==="n")return xt(r,t,c);if(t.slice(0,6)==="xlink:")r.dom.setAttributeNS("http://www.w3.org/1999/xlink",t.slice(6),c);else if(t==="style")vt(r.dom,a,c);else if(bt(r,t,d)){if(t==="value"){if((r.tag==="input"||r.tag==="textarea")&&r.dom.value===""+c||r.tag==="select"&&a!==null&&r.dom.value===""+c||r.tag==="option"&&a!==null&&r.dom.value===""+c)return;if(r.tag==="input"&&r.attrs.type==="file"&&""+c!=""){console.error("`value` is read-only on file inputs!");return}}r.tag==="input"&&t==="type"?r.dom.setAttribute(t,c):r.dom[t]=c}else typeof c=="boolean"?c?r.dom.setAttribute(t,""):r.dom.removeAttribute(t):r.dom.setAttribute(t==="className"?"class":t,c)}}function Cr(r,t,a,c){if(!(t==="key"||a==null||yt(t)))if(t[0]==="o"&&t[1]==="n")xt(r,t,void 0);else if(t==="style")vt(r.dom,a,null);else if(bt(r,t,c)&&t!=="className"&&t!=="title"&&!(t==="value"&&(r.tag==="option"||r.tag==="select"&&r.dom.selectedIndex===-1&&r.dom===y(r.dom)))&&!(r.tag==="input"&&t==="type"))r.dom[t]=null;else{var d=t.indexOf(":");d!==-1&&(t=t.slice(d+1)),a!==!1&&r.dom.removeAttribute(t==="className"?"class":t)}}function $r(r,t){if("value"in t)if(t.value===null)r.dom.selectedIndex!==-1&&(r.dom.value=null);else{var a=""+t.value;(r.dom.value!==a||r.dom.selectedIndex===-1)&&(r.dom.value=a)}"selectedIndex"in t&&Ce(r,"selectedIndex",null,t.selectedIndex,void 0)}function Er(r,t,a,c){var d;if(t!=null){t===a&&console.warn("Don't reuse attrs object, use new object for every redraw, this will throw in next major");for(var g in t)(d=t[g])!=null&&(a==null||a[g]==null)&&Cr(r,g,d,c)}if(a!=null)for(var g in a)Ce(r,g,t&&t[g],a[g],c)}function Or(r,t){return t==="value"||t==="checked"||t==="selectedIndex"||t==="selected"&&(r.dom===y(r.dom)||r.tag==="option"&&r.dom.parentNode===y(r.dom))}function yt(r){return r==="oninit"||r==="oncreate"||r==="onupdate"||r==="onremove"||r==="onbeforeremove"||r==="onbeforeupdate"}function bt(r,t,a){return a===void 0&&(r.tag.indexOf("-")>-1||r.is||t!=="href"&&t!=="list"&&t!=="form"&&t!=="width"&&t!=="height")&&t in r.dom}function vt(r,t,a){if(t!==a)if(a==null)r.style="";else if(typeof a!="object")r.style=a;else if(t==null||typeof t!="object"){r.style="";for(var c in a){var d=a[c];d!=null&&(c.includes("-")?r.style.setProperty(c,String(d)):r.style[c]=String(d))}}else{for(var c in t)t[c]!=null&&a[c]==null&&(c.includes("-")?r.style.removeProperty(c):r.style[c]="");for(var c in a){var d=a[c];d!=null&&(d=String(d))!==String(t[c])&&(c.includes("-")?r.style.setProperty(c,d):r.style[c]=d)}}}function $e(){this._=f}$e.prototype=Object.create(null),$e.prototype.handleEvent=function(r){var t=this["on"+r.type],a;typeof t=="function"?a=t.call(r.currentTarget,r):typeof t.handleEvent=="function"&&t.handleEvent(r),this._&&r.redraw!==!1&&(0,this._)(),a===!1&&(r.preventDefault(),r.stopPropagation())};function xt(r,t,a){if(r.events!=null){if(r.events._=f,r.events[t]===a)return;a!=null&&(typeof a=="function"||typeof a=="object")?(r.events[t]==null&&r.dom.addEventListener(t.slice(2),r.events,!1),r.events[t]=a):(r.events[t]!=null&&r.dom.removeEventListener(t.slice(2),r.events,!1),r.events[t]=void 0)}else a!=null&&(typeof a=="function"||typeof a=="object")&&(r.events=new $e,r.dom.addEventListener(t.slice(2),r.events,!1),r.events[t]=a)}function Ee(r,t,a){typeof r.oninit=="function"&&A.call(r.oninit,t),typeof r.oncreate=="function"&&a.push(A.bind(r.oncreate,t))}function Oe(r,t,a){typeof r.onupdate=="function"&&a.push(A.bind(r.onupdate,t))}function Rr(r,t){do{if(r.attrs!=null&&typeof r.attrs.onbeforeupdate=="function"){var a=A.call(r.attrs.onbeforeupdate,r,t);if(a!==void 0&&!a)break}if(typeof r.tag!="string"&&typeof r.state.onbeforeupdate=="function"){var a=A.call(r.state.onbeforeupdate,r,t);if(a!==void 0&&!a)break}return!1}while(!1);return r.dom=t.dom,r.domSize=t.domSize,r.instance=t.instance,r.attrs=t.attrs,r.children=t.children,r.text=t.text,!0}var fe;return function(r,t,a){if(!r)throw new TypeError("DOM element being rendered to does not exist.");if(fe!=null&&r.contains(fe))throw new TypeError("Node is currently being rendered to and thus is locked.");var c=f,d=fe,g=[],I=y(r),z=r.namespaceURI;fe=r,f=typeof a=="function"?a:void 0,h={};try{r.vnodes==null&&(r.textContent=""),t=e.normalizeChildren(Array.isArray(t)?t:[t]),O(r,r.vnodes,t,g,null,z==="http://www.w3.org/1999/xhtml"?void 0:z),r.vnodes=t,I!=null&&y(r)!==I&&typeof I.focus=="function"&&I.focus();for(var D=0;D<g.length;D++)g[D]()}finally{f=c,fe=d}}},He}var je,Bt;function ur(){return Bt||(Bt=1,je=Jr()(typeof window<"u"?window:null)),je}var Ue,Tt;function Zr(){if(Tt)return Ue;Tt=1;var e=ie();return Ue=function(n,i,l){var o=[],f=!1,h=-1;function u(){for(h=0;h<o.length;h+=2)try{n(o[h],e(o[h+1]),s)}catch(A){l.error(A)}h=-1}function s(){f||(f=!0,i(function(){f=!1,u()}))}s.sync=u;function p(A,y){if(y!=null&&y.view==null&&typeof y!="function")throw new TypeError("m.mount expects a component, not a vnode.");var $=o.indexOf(A);$>=0&&(o.splice($,2),$<=h&&(h-=2),n(A,[])),y!=null&&(o.push(A,y),n(A,e(y),s))}return{mount:p,redraw:s}},Ue}var Fe,St;function mt(){if(St)return Fe;St=1;var e=ur();return Fe=Zr()(e,typeof requestAnimationFrame<"u"?requestAnimationFrame:null,typeof console<"u"?console:null),Fe}var _e,Qt;function fr(){return Qt||(Qt=1,_e=function(e){if(Object.prototype.toString.call(e)!=="[object Object]")return"";var n=[];for(var i in e)l(i,e[i]);return n.join("&");function l(o,f){if(Array.isArray(f))for(var h=0;h<f.length;h++)l(o+"["+h+"]",f[h]);else if(Object.prototype.toString.call(f)==="[object Object]")for(var h in f)l(o+"["+h+"]",f[h]);else n.push(encodeURIComponent(o)+(f!=null&&f!==""?"="+encodeURIComponent(f):""))}}),_e}var Ke,Ht;function ht(){if(Ht)return Ke;Ht=1;var e=fr();return Ke=function(n,i){if(/:([^\/\.-]+)(\.{3})?:/.test(n))throw new SyntaxError("Template parameter names must be separated by either a '/', '-', or '.'.");if(i==null)return n;var l=n.indexOf("?"),o=n.indexOf("#"),f=o<0?n.length:o,h=l<0?f:l,u=n.slice(0,h),s={};Object.assign(s,i);var p=u.replace(/:([^\/\.-]+)(\.{3})?/g,function(T,Z,Y){return delete s[Z],i[Z]==null?T:Y?i[Z]:encodeURIComponent(String(i[Z]))}),A=p.indexOf("?"),y=p.indexOf("#"),$=y<0?p.length:y,E=A<0?$:A,q=p.slice(0,E);l>=0&&(q+=n.slice(l,f)),A>=0&&(q+=(l<0?"?":"&")+p.slice(A,$));var x=e(s);return x&&(q+=(l<0&&A<0?"?":"&")+x),o>=0&&(q+=n.slice(o)),y>=0&&(q+=(o<0?"":"&")+p.slice(y)),q},Ke}var Ye,jt;function Wr(){if(jt)return Ye;jt=1;var e=ht(),n=ft();return Ye=function(i,l){function o(u){return new Promise(u)}function f(u,s){return new Promise(function(p,A){u=e(u,s.params);var y=s.method!=null?s.method.toUpperCase():"GET",$=s.body,E=(s.serialize==null||s.serialize===JSON.serialize)&&!($ instanceof i.FormData||$ instanceof i.URLSearchParams),q=s.responseType||(typeof s.extract=="function"?"":"json"),x=new i.XMLHttpRequest,T=!1,Z=!1,Y=x,v,w=x.abort;x.abort=function(){T=!0,w.call(this)},x.open(y,u,s.async!==!1,typeof s.user=="string"?s.user:void 0,typeof s.password=="string"?s.password:void 0),E&&$!=null&&!h(s,"content-type")&&x.setRequestHeader("Content-Type","application/json; charset=utf-8"),typeof s.deserialize!="function"&&!h(s,"accept")&&x.setRequestHeader("Accept","application/json, text/*"),s.withCredentials&&(x.withCredentials=s.withCredentials),s.timeout&&(x.timeout=s.timeout),x.responseType=q;for(var O in s.headers)n.call(s.headers,O)&&x.setRequestHeader(O,s.headers[O]);x.onreadystatechange=function(M){if(!T&&M.target.readyState===4)try{var j=M.target.status>=200&&M.target.status<300||M.target.status===304||/^file:\/\//i.test(u),C=M.target.response,S;if(q==="json"){if(!M.target.responseType&&typeof s.extract!="function")try{C=JSON.parse(M.target.responseText)}catch{C=null}}else(!q||q==="text")&&C==null&&(C=M.target.responseText);if(typeof s.extract=="function"?(C=s.extract(M.target,s),j=!0):typeof s.deserialize=="function"&&(C=s.deserialize(C)),j){if(typeof s.type=="function")if(Array.isArray(C))for(var L=0;L<C.length;L++)C[L]=new s.type(C[L]);else C=new s.type(C);p(C)}else{var k=function(){try{S=M.target.responseText}catch{S=C}var R=new Error(S);R.code=M.target.status,R.response=C,A(R)};x.status===0?setTimeout(function(){Z||k()}):k()}}catch(R){A(R)}},x.ontimeout=function(M){Z=!0;var j=new Error("Request timed out");j.code=M.target.status,A(j)},typeof s.config=="function"&&(x=s.config(x,s,u)||x,x!==Y&&(v=x.abort,x.abort=function(){T=!0,v.call(this)})),$==null?x.send():typeof s.serialize=="function"?x.send(s.serialize($)):$ instanceof i.FormData||$ instanceof i.URLSearchParams?x.send($):x.send(JSON.stringify($))})}o.prototype=Promise.prototype,o.__proto__=Promise;function h(u,s){for(var p in u.headers)if(n.call(u.headers,p)&&p.toLowerCase()===s)return!0;return!1}return{request:function(u,s){typeof u!="string"?(s=u,u=u.url):s==null&&(s={});var p=f(u,s);if(s.background===!0)return p;var A=0;function y(){--A===0&&typeof l=="function"&&l()}return $(p);function $(E){var q=E.then;return E.constructor=o,E.then=function(){A++;var x=q.apply(E,arguments);return x.then(y,function(T){if(y(),A===0)throw T}),$(x)},E}}}},Ye}var Ge,Ut;function Vr(){if(Ut)return Ge;Ut=1;var e=mt();return Ge=Wr()(typeof window<"u"?window:null,e.redraw),Ge}var Je,Ft;function mr(){if(Ft)return Je;Ft=1;function e(n){try{return decodeURIComponent(n)}catch{return n}}return Je=function(n){if(n===""||n==null)return{};n.charAt(0)==="?"&&(n=n.slice(1));for(var i=n.split("&"),l={},o={},f=0;f<i.length;f++){var h=i[f].split("="),u=e(h[0]),s=h.length===2?e(h[1]):"";s==="true"?s=!0:s==="false"&&(s=!1);var p=u.split(/\]\[?|\[/),A=o;u.indexOf("[")>-1&&p.pop();for(var y=0;y<p.length;y++){var $=p[y],E=p[y+1],q=E==""||!isNaN(parseInt(E,10));if($===""){var u=p.slice(0,y).join();l[u]==null&&(l[u]=Array.isArray(A)?A.length:0),$=l[u]++}else if($==="__proto__")break;if(y===p.length-1)A[$]=s;else{var x=Object.getOwnPropertyDescriptor(A,$);x!=null&&(x=x.value),x==null&&(A[$]=x=q?[]:{}),A=x}}}return o},Je}var Ze,_t;function dt(){if(_t)return Ze;_t=1;var e=mr();return Ze=function(n){var i=n.indexOf("?"),l=n.indexOf("#"),o=l<0?n.length:l,f=i<0?o:i,h=n.slice(0,f).replace(/\/{2,}/g,"/");return h?h[0]!=="/"&&(h="/"+h):h="/",{path:h,params:i<0?{}:e(n.slice(i+1,o))}},Ze}var We,Kt;function Xr(){if(Kt)return We;Kt=1;var e=dt();return We=function(n){var i=e(n),l=Object.keys(i.params),o=[],f=new RegExp("^"+i.path.replace(/:([^\/.-]+)(\.{3}|\.(?!\.)|-)?|[\\^$*+.()|\[\]{}]/g,function(h,u,s){return u==null?"\\"+h:(o.push({k:u,r:s==="..."}),s==="..."?"(.*)":s==="."?"([^/]+)\\.":"([^/]+)"+(s||""))})+"$");return function(h){for(var u=0;u<l.length;u++)if(i.params[l[u]]!==h.params[l[u]])return!1;if(!o.length)return f.test(h.path);var s=f.exec(h.path);if(s==null)return!1;for(var u=0;u<o.length;u++)h.params[o[u].k]=o[u].r?s[u+1]:decodeURIComponent(s[u+1]);return!0}},We}var Ve,Yt;function hr(){if(Yt)return Ve;Yt=1;var e=ft(),n=new RegExp("^(?:key|oninit|oncreate|onbeforeupdate|onupdate|onbeforeremove|onremove)$");return Ve=function(i,l){var o={};if(l!=null)for(var f in i)e.call(i,f)&&!n.test(f)&&l.indexOf(f)<0&&(o[f]=i[f]);else for(var f in i)e.call(i,f)&&!n.test(f)&&(o[f]=i[f]);return o},Ve}var Xe,Gt;function en(){if(Gt)return Xe;Gt=1;var e=ie(),n=sr(),i=ht(),l=dt(),o=Xr(),f=hr(),h={};function u(s){try{return decodeURIComponent(s)}catch{return s}}return Xe=function(s,p){var A=s==null?null:typeof s.setImmediate=="function"?s.setImmediate:s.setTimeout,y=Promise.resolve(),$=!1,E=!1,q=0,x,T,Z=h,Y,v,w,O,M={onbeforeupdate:function(){return q=q?2:1,!(!q||h===Z)},onremove:function(){s.removeEventListener("popstate",S,!1),s.removeEventListener("hashchange",C,!1)},view:function(){if(!(!q||h===Z)){var R=[e(Y,v.key,v)];return Z&&(R=Z.render(R[0])),R}}},j=k.SKIP={};function C(){$=!1;var R=s.location.hash;k.prefix[0]!=="#"&&(R=s.location.search+R,k.prefix[0]!=="?"&&(R=s.location.pathname+R,R[0]!=="/"&&(R="/"+R)));var N=R.concat().replace(/(?:%[a-f89][a-f0-9])+/gim,u).slice(k.prefix.length),Q=l(N);Object.assign(Q.params,s.history.state);function G(P){console.error(P),L(T,null,{replace:!0})}F(0);function F(P){for(;P<x.length;P++)if(x[P].check(Q)){var ee=x[P].component,ae=x[P].route,pe=ee,oe=O=function(re){if(oe===O){if(re===j)return F(P+1);Y=re!=null&&(typeof re.view=="function"||typeof re=="function")?re:"div",v=Q.params,w=N,O=null,Z=ee.render?ee:null,q===2?p.redraw():(q=2,p.redraw.sync())}};ee.view||typeof ee=="function"?(ee={},oe(pe)):ee.onmatch?y.then(function(){return ee.onmatch(Q.params,N,ae)}).then(oe,N===T?null:G):oe("div");return}if(N===T)throw new Error("Could not resolve default route "+T+".");L(T,null,{replace:!0})}}function S(){$||($=!0,A(C))}function L(R,N,Q){if(R=i(R,N),E){S();var G=Q?Q.state:null,F=Q?Q.title:null;Q&&Q.replace?s.history.replaceState(G,F,k.prefix+R):s.history.pushState(G,F,k.prefix+R)}else s.location.href=k.prefix+R}function k(R,N,Q){if(!R)throw new TypeError("DOM element being rendered to does not exist.");if(x=Object.keys(Q).map(function(F){if(F[0]!=="/")throw new SyntaxError("Routes must start with a '/'.");if(/:([^\/\.-]+)(\.{3})?:/.test(F))throw new SyntaxError("Route parameter names must be separated with either '/', '.', or '-'.");return{route:F,component:Q[F],check:o(F)}}),T=N,N!=null){var G=l(N);if(!x.some(function(F){return F.check(G)}))throw new ReferenceError("Default route doesn't match any known routes.")}typeof s.history.pushState=="function"?s.addEventListener("popstate",S,!1):k.prefix[0]==="#"&&s.addEventListener("hashchange",C,!1),E=!0,p.mount(R,M),C()}return k.set=function(R,N,Q){O!=null&&(Q=Q||{},Q.replace=!0),O=null,L(R,N,Q)},k.get=function(){return w},k.prefix="#!",k.Link={view:function(R){var N=n(R.attrs.selector||"a",f(R.attrs,["options","params","selector","onclick"]),R.children),Q,G,F;return(N.attrs.disabled=!!N.attrs.disabled)?(N.attrs.href=null,N.attrs["aria-disabled"]="true"):(Q=R.attrs.options,G=R.attrs.onclick,F=i(N.attrs.href,R.attrs.params),N.attrs.href=k.prefix+F,N.attrs.onclick=function(P){var ee;typeof G=="function"?ee=G.call(P.currentTarget,P):G==null||typeof G!="object"||typeof G.handleEvent=="function"&&G.handleEvent(P),ee!==!1&&!P.defaultPrevented&&(P.button===0||P.which===0||P.which===1)&&(!P.currentTarget.target||P.currentTarget.target==="_self")&&!P.ctrlKey&&!P.metaKey&&!P.shiftKey&&!P.altKey&&(P.preventDefault(),P.redraw=!1,k.set(F,null,Q))}),N}},k.param=function(R){return v&&R!=null?v[R]:v},k},Xe}var et,Jt;function tn(){if(Jt)return et;Jt=1;var e=mt();return et=en()(typeof window<"u"?window:null,e),et}var tt,Zt;function rn(){if(Zt)return tt;Zt=1;var e=Gr(),n=Vr(),i=mt(),l=cr(),o=function(){return e.apply(this,arguments)};return o.m=e,o.trust=e.trust,o.fragment=e.fragment,o.Fragment="[",o.mount=i.mount,o.route=tn(),o.render=ur(),o.redraw=i.redraw,o.request=n.request,o.parseQueryString=mr(),o.buildQueryString=fr(),o.parsePathname=dt(),o.buildPathname=ht(),o.vnode=ie(),o.censor=hr(),o.domFor=l.domFor,tt=o,tt}var nn=rn();const m=_r(nn);b.setDebug(!1);const ce="https://www.reddit.com",an={loading:"img/loading.gif"},Wt={sun:"ðŸŒž",moon:"ðŸŒ"},on=7,ln=3,sn=10,rt=50,cn=25,lt={day:["rgb(226, 26, 25)","rgb(243, 146, 51)","rgb(249, 231, 49)","rgb(84, 166, 76)","rgb(54, 141, 238)"],night:["rgb(226, 26, 25)","rgb(243, 146, 51)","rgb(249, 231, 49)","rgb(84, 166, 76)","rgb(54, 141, 238)"]},un=[{value:"confidence",text:"Best"},{value:"top",text:"Top"},{value:"new",text:"New"},{value:"controversial",text:"Controversial"},{value:"old",text:"Old"},{value:"qa",text:"QA"},{value:"random",text:"Random"}],fn="data:image/gif;base64,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",pt=()=>m("img"+b`filter invert($loading-filter)`,{src:fn}),ue="a[target=_blank][rel=nofollow noreferrer noopener]",At=(e,n)=>m.request({method:"get",background:!0,url:ce+e,params:n}),dr=(e,n,i="confidence")=>At(e.permalink+".json",{comment:n&&n.id,sort:i}).then(l=>l[1].data.children),mn=(e,n)=>At("/api/morechildren.json",{api_type:"json",children:n.join(","),link_id:e}).then(i=>Qr(i,"json.data.things")||[]).catch(i=>console.log(i)),hn=(e,n,i)=>At(`/r/${e}.json`,{limit:cn,after:n}).then(l=>l.data.children.filter(o=>i||!o.data.over_18).map(o=>An(o.data))),dn=["name","permalink","subreddit","score","num_comments","title","author","created_utc"],Vt=e=>{var i,l;const n=((i=e.media)==null?void 0:i.reddit_video)||((l=e.preview)==null?void 0:l.reddit_video_preview);return n==null?void 0:n.fallback_url},pn=[{type:"Image",match:e=>e.post_hint==="image"},{type:"Video",postParse:!0,match:e=>Vt(e),parse:(e,n)=>{const i=Vt(e);return n.sound=[i.replace(/DASH[^.]*\./,"DASH_AUDIO_128."),i.split("/").slice(0,-1).join("/")+"/audio"],i}},{type:"Gallery",match:e=>e.media_metadata&&e.url.includes("reddit.com/gallery"),postParse:!0,parse:(e,n)=>(n.images=Object.values(e.media_metadata).map(i=>{var l;return((l=i.s.u)==null?void 0:l.replace("preview","i"))??i.s.gif}).filter(Boolean),e.url)},{type:"Embed",desc:"Imgur Gallery",match:/imgur\.com\/(a|gallery)\/[a-z0-9]+$/i,parse:e=>e.replace(/\/gallery\//,"/a/").replace(/^http:/,"https:")+"/embed?pub=true&analytics=false"},{type:"Self",match:e=>e.is_self,fields:["selftext_html"]},{type:"Link",match:()=>!0,fields:["thumbnail"]}],An=function(e){const n=e.url.replace(/[?#].*$/,""),i={};return pn.some(l=>{if(typeof l.match=="function"?l.match(e):l.match.test(n))return dn.concat(l.fields||[]).forEach(o=>i[o]=e[o]),["type","parseAsync","desc"].forEach(o=>i[o]=l[o]),i.url=l.parse?l.parse(l.postParse?e:l.strip===!1?e.url:n,i):l.strip?n:e.url,!0}),i},gn=`
  $loading-filter 1
  $link-color #1b3e92
  $author-color #215854
  $op-color #1a1abd
  $mod-color #109610
  $admin-color red
  $good-score-color #ff7a00
  $bad-score-color #3070a9
  $score-hidden-color #666
  $text-color #444
  $bg-color #eee
  $bg-color-lighter #fff
  $scroll-track-color #e0e0e0
  $scroll-thumb-color #aaa
  $toggle-on #2f855a
  $toggle-off #cbd5e0
  $toggle-slider #f7fafc
`,wn=`
  $loading-filter 0
  $link-color #ffc9c9
  $author-color #ddd
  $op-color #afafff
  $mod-color #34ce34
  $admin-color red
  $good-score-color rgb(255, 181, 45)
  $bad-score-color rgb(0, 181, 247)
  $score-hidden-color #aaa
  $text-color white
  $bg-color #222
  $bg-color-lighter #444
  $scroll-track-color #444
  $scroll-thumb-color #555
  $toggle-on #68d391
  $toggle-off #4a5568
  $toggle-slider #f7fafc
`,yn=e=>b.global`html, body { ${e?wn:gn} }`;b.global`
  html, body {
    $small-text 0.8em
    $large-text 1.2em
    $title-text 1.5em

    c $text-color
    bc $bg-color
    ff "Segoe UI",Roboto,Oxygen,Ubuntu,"Droid Sans",sans-serif
    fs 16
  }
  * { box-sizing border-box }
  a, .link {
    td none
    c $link-color
    cursor pointer
    :hover { td underline }
  }
  @media only screen and (min-device-width: 900px) {
    ::-webkit-scrollbar { w 15 }
    ::-webkit-scrollbar-track {
      bs inset 0 0 2 rgba(0, 0, 0, 0.3)
      bc $scroll-track-color
    }
    .modal ::-webkit-scrollbar-track { bbrr 10 }
    ::-webkit-scrollbar-thumb { bc $scroll-thumb-color }
  }
`;b.helper({pin:"position absolute;t 0;b 0;l 0;r 0",fade:e=>`transition opacity 500ms;opacity ${e}`,grow:e=>`transition transform 500ms;transform scale(${e})`,flexCenter:"d flex;jc center;ai center",fd:e=>`flex-direction ${e}`,badge:`
    br 4
    d inline-block
    p 2
    fw bold
    va middle
    mw 20
    ta center
    fs smaller
  `,ellipsis:`
    white-space nowrap
    overflow hidden
    text-overflow ellipsis
  `,spinAnimation:`
    animation ${b.anim`
      from { transform rotate(0deg) }
      to { transform rotate(360deg) }
    `} 1s linear infinite
  `});const gt=e=>te((n,i)=>{const l=e??!n.nightMode;return yn(l),i(n,{nightMode:l,borders:l?lt.night:lt.day})}),st=(e,n=!1)=>{if(te({subreddit:e,failed:!1,loading:!1}),!e)return ct();n||ct();const{posts:i}=K,l=i.length>0?i[i.length-1].name:"";te({loading:!0}),hn(K.subreddit,l,K.nsfw).then(o=>{if(!K.filter)return o;const f=K.filter.split("+");return o.filter(h=>!f.includes(h.subreddit))}).then(o=>te({posts:f=>f.concat(o),loading:!1}),o=>{o&&console.log(o),te({failed:!0,loading:!1})})},ct=()=>te({posts:[],limit:on}),bn=()=>te({limit:e=>e+ln}),vn=()=>te({nsfw:e=>!e}),xn=e=>te({subreddit:e}),Cn=e=>te({filter:e}),pr=e=>te({openPost:e}),$n=e=>te({commentSort:e}),En={view:({attrs:{onclose:e,header:n,content:i}})=>m("div.overlay"+b`
        pin
        flexCenter
        position fixed
        bc rgba(0,0,0,0.65)
        overflow auto
        z-index 50
      `,{onclick:l=>{e&&l.target.classList.contains("overlay")?e():l.redraw=!1}},m("div.modal"+b`
          w 90%
          max-width 1200
          max-height 90vh
          bc $bg-color
          br 10
          d flex
          fd column
        `,[m("div.modal-header"+b`
              d flex;fd row
              p 10 10 5 10
              box-shadow 0 3 7 -5 rgba(0,0,0,0.9)
            `,[m("div.modal-header-content"+b`flex 1 auto`,n),m("div.modal-header-actions",[m("span.modal-close"+b`
                    grow 1
                    cursor pointer
                    fs 150%; line-height 0
                    :hover { grow 1.3 }
                  `,{onclick:e},m.trust("&times;"))])]),m("div.modal-body"+b`flex 1 auto;overflow auto;max-height 80vh;p 15`,i)]))},Ar={view:({attrs:{post:e,readOnly:n=!1}})=>m("div",[m(".post-title"+b`font-style italic;fw bold;mb 5`,[m(ue+b`c inherit`,{href:ce+e.permalink,title:e.subreddit,onclick:function(i){i.ctrlKey||n||(i.preventDefault(),pr(e))}},m.trust(e.title))]),m(".post-info"+b`mb 5; > span { fw bold }`,[m("span"+b`c $${e.score>0?"good-score":"bad-score"}-color`,at(e.score))," ",rr("point",e.score)," and ",m("span"+b`c rgb(0, 167, 228)`,at(e.num_comments))," comments on ",m("span",[m("a"+b`c #ff5b5b`,{href:"#/r/"+e.subreddit,oncreate:m.route.link},e.subreddit)]),e.author&&e.type!=="Self"&&[" by ",m(ue+b`font-style italic; font-weight bold;`,{href:ce+"/u/"+e.author,title:"u/"+e.author},"u/"+e.author)]," ",it(e.created_utc*1e3)||new Date(e.created_utc*1e3).toLocaleString()])])},gr=()=>{let e=!1;return{view({attrs:{parentArray:n,moreComments:i}}){if(e)return m("div"+b`ta center`,pt());const l=i.children&&i.children.length;return l<=0?"":m("a.load-more-comments[href=#]"+b`d inline-block;mt 5`,{onclick:o=>{o.preventDefault(),e=!0;const f=i.children.splice(0,rt);mn(K.openPost.name,f).then(h=>{if(m.redraw(),e=!1,!h.length)return;console.log("more comments => ",h);let u;n.some((p,A)=>{if(p.kind==="more"&&p.data.id===i.id)return u=n.splice(A,1)[0],!0});const s={};h.forEach(p=>{if(p.data.depth===i.depth)n.push(p);else{const A=s[p.data.depth-1];if(!A)return;A.data.replies=A.data.replies||{kind:"Listing",data:{children:[]}},A.data.replies.data.children.push(p)}s[p.data.depth]=p}),i.children.length>0&&u&&n.push(u)})}},"Load ",l>rt?[rt," (of ",l,")"]:l," more ",rr("comment",l),".")}}},On=b`
  word-break break-word
  blockquote {
    pl 8
    bl 4px solid #a2a2a2
    m 4 0 4 8
  }
  blockquote:last-child { mb 0 }
  p { margin 0.75em 0 }
  pre { white-space pre-wrap }
`,wr=({attrs:{comment:e}})=>{let n=!1;const i=m.trust(tr(e.body_html)),l=(u,s)=>{u&&(u.depth=s,u.replies&&u.replies.data.children.map(p=>l(p.data,s+1)))},o=()=>m.trust(" &#x2022; "),f=u=>{n=!0,dr(K.openPost,u,K.commentSort).then(([s])=>{n=!1,s&&s.data&&(l(s.data,u.depth),Object.assign(u,s.data)),m.redraw()})},h=u=>u.is_submitter?"content '[OP]'; c $op-color":u.distinguished==="moderator"?"content '[MOD]'; c $mod-color":u.distinguished==="admin"?"content '[ADMIN]'; c $admin-color":"";return{view:({attrs:{comment:u}})=>{const s=new Date(u.created_utc*1e3),p=u.edited&&new Date(u.edited*1e3),A=K.borders[u.depth%K.borders.length];return m("div.post-comment"+b`pl 17; border-left 3px solid ${A}; :not(:last-child) { mb 20 }`,[m("div.post-comment-info"+b`fs 90%;mb 5`,[m("strong.post-comment-collapse"+b`ff monospace; cursor pointer; user-select none`,{onclick:()=>u.collapsed=!u.collapsed},"[",u.collapsed?"+":"-","] "),m(ue+".post-comment-author"+b`
                c $author-color
                :after {
                  ff monospace
                  position relative
                  t -1; ml 3; c black
                  ${h(u)}
                }
              `,{href:`${ce}/u/${u.author}`},u.author),o(),u.score_hidden?m("em"+b`c $score-hidden-color`,"Score Hidden"):m("span.score"+b`fw bold;c $${u.score>=1?"good":"bad"}-score-color`,at(u.score)),o(),it(s)||s.toLocaleString(),p?[o()," edited ",it(p)||p.toLocaleString()]:"",o(),m(ue,{href:ce+u.permalink},"permalink"),o(),m("a.refresh-comment"+b`cursor pointer`+b(n&&"color $score-hidden-color"),{onclick:()=>!n&&f(u)},"refresh")]),m("div",{hidden:u.collapsed},[m("div.post-comment-text"+On,{onmousedown:y=>{if(y.which===1&&y.target.pathname&&y.target.pathname.startsWith("/r/")&&!y.target.pathname.includes("/comments/"))return window.open(location.pathname+"#!"+y.target.pathname),!1}},i),u.replies?m("div.post-comment-replies",u.replies.data.children.map((y,$,E)=>y.kind==="more"?m(gr,{parentArray:E,moreComments:y.data}):m(wr,{comment:y.data}))):""])])}}},ne={};ne.Video=({attrs:{post:e}})=>{let n=null,i;const l=({target:u})=>{u.play(),n&&!h()&&(n.play(),i=setInterval(()=>{h()||Math.abs(n.currentTime-u.currentTime)<.2||(n.currentTime=u.currentTime,u.currentTime=n.currentTime,u.play(),n.play())},1e3))},o=({target:u})=>{u.pause(),n&&(clearInterval(i),n.pause())},f=[],h=()=>e.sound&&f.filter(Boolean).length>=e.sound.length;return{onremove:()=>clearInterval(i),view:({attrs:{post:u}})=>m(".video-post",[u.sound&&m("audio[loop][preload=metadata]",{oncreate:({dom:s})=>n=s},u.sound.map((s,p)=>s&&m("source",{src:s,onerror:()=>f[p]=!0}))),m("video[loop][preload=metadata]"+b`cursor row-resize;fade 0.25;max-width 99%;max-height 95vh; :hover { fade 1;z-index 50 }`,{onmouseenter:l,onmouseleave:o,onclick:s=>nr("height",s)},m("source[type=video/mp4]",{src:u.url}))])}};ne.Image={view:({attrs:{post:e}})=>m(".image-post",m("img"+b`cursor row-resize;max-width 99%;max-height 95vh`,{src:e.url,onclick:n=>nr("width",n)}))};ne.Gallery=()=>{let e=0;const n=()=>e++,i=()=>e--,l=b`
    position absolute
    top 50%
    background none
    border 1px solid white
    opacity 0.3
    font-size 150%
    border-radius 6px
    padding 10px
    color white
    cursor pointer
    transition opacity 0.3s
  `;return{view:({attrs:{post:o}})=>(e>=o.images.length?e=0:e<0&&(e=o.images.length-1),m(""+b`position relative;d inline-block;&:hover .${l} { opacity 1; background rgba(0, 0, 0, 0.5) }`,m("button"+l+b`left 20`,{onclick:i},"<"),m("button"+l+b`right 20`,{onclick:n},">"),m(ne.Image,{post:{url:o.images[e]}})))}};ne.Embed=()=>{let e=!1;const n=()=>m("span.link"+b`d block;m 2`,{onclick:i=>{const l=i.target.parentElement;e=!1,setTimeout(()=>{const{top:o}=l.getBoundingClientRect();(o<0||o>window.innerHeight)&&l.scrollIntoView()})}},"close");return{view:({attrs:{post:i}})=>{let l=i.url;return location.protocol==="https:"&&(l=l.replace(/^.+:/,location.protocol)),m(".embed-post",[e?[n(),m("iframe[frameborder=0]"+b`d block;margin auto;h 90vh;w 90%`,{src:l}),n()]:m("button.load-embed"+b`p 10;m 5`,{onclick:()=>e=!0},"Load ",i.desc||"Embedded Content")])}}};const yr={view:({attrs:{post:e},children:n})=>m(".self-post"+b`
        w 750
        max-width 80%
        ta left
        bc $bg-color-lighter
        br 5
        word-wrap break-word
        m auto
      `,m(".self-post-username"+b`fw bold;position relative;t 8;l 13`,m(ue,{href:`${ce}/u/${e.author}`},e.author)," says: "),m(".self-post-content"+b`p 30;pt 20`,n))};ne.Self=({attrs:{post:e}})=>{const n=e.selftext_html&&m.trust(tr(e.selftext_html));return{view:({attrs:{post:i}})=>m(yr,{post:i},n||i.title)}};ne.Link={view:({attrs:{post:e}})=>m(yr,{post:e},m("div"+b`ta center`,m(ue,{href:e.url},e.url),e.thumbnail.indexOf("http")===0?[m("br"),m("img",{src:e.thumbnail})]:""))};ne.Loading={oninit(e){const n=e.attrs;n.post&&n.post.parseAsync&&n.post.parseAsync(n.post.url,n.post).then(function(i){n.post.parseAsync=null,n.post.url=i,m.redraw()})},view(){return m("div.loading-post",m("img.loading",{src:an.loading}))}};const br={view({attrs:{post:e,showInfo:n=!0}}){const i=ne[e.type];return m(".post-preview"+b`m 5 auto 40 auto`,[n?m(Ar,{post:e}):"",e.parseAsync?m(ne.Loading,{post:e}):m(i,{post:e})])}},Rn=({attrs:{post:e}})=>{let n=[],i;const l=o=>{i=!0,o?$n(o):o=K.commentSort,dr(e,null,o).then(f=>{n=f,i=!1,m.redraw()})};return l(),{view:()=>i?m("div"+b`ta center`,pt()):m("div.post-comments"+b`ta left;position relative`,[m("span"+b`position absolute;t 0;r 0`,["Sort by ",m("select",{onchange:o=>l(o.target.value),value:K.commentSort},un.map(o=>m("option",o)))]),m("div.post-comments-list",n.length<1?m("div"+b`ta center`,"No comments yet..."):n.map((o,f,h)=>o.kind==="more"?m(gr,{parentArray:h,moreComments:o.data}):m(wr,{comment:o.data})))])}},Dn={onclose:()=>pr(null),view(){const e=K.openPost;return m(En,{onclose:this.onclose,header:m("div"+b`ta center`,m(Ar,{post:e,readOnly:!0})),content:[m("div"+b`ta center`,m(br,{post:e,showInfo:!1})),m(Rn,{post:e})]})}},Mn={view:({attrs:{posts:e}})=>m(".post-list",e.length>0&&e.slice(0,K.limit).map(n=>m(br,{post:n})))},Xt=200;function kn(){return{view:({attrs:{value:e,style:n="",ontoggle:i}})=>m("div.toggle-button"+b`
          $name toggle
          d inline-block
          va middle
          position relative
          h 20px; w 35px; br 8
          cursor pointer
          transition background ${Xt}ms
        `+b(e?"bc $toggle-on":"bc $toggle-off")+b(n),{onclick:i,tabIndex:0,checked:e,role:"checkbox","aria-checked":String(e),onkeyup:l=>{["Enter"," "].includes(l.key)&&i()}},m("div"+b`
            $name toggle-slider
            position absolute
            bc $toggle-slider
            w 16; h 16; m 2; br 40%
            transition transform ${Xt}ms
          `+b(e&&"transform translateX(15px)")))}}function qn(){const e=n=>{n.key==="Enter"?m.route.set(K.subreddit?"/r/"+K.subreddit:""):n.redraw=!1};return{view:()=>{const{filter:n,nsfw:i,subreddit:l}=K;return m("div"+b`
          > * { d block;m 0 auto 7 auto }
          > input[type=text] {
            ta center
            p 5;br 4;border none
            fs $large-text
          }
        `,m("input[type=text][placeholder=subreddit]",{oninput:o=>xn(o.target.value.trim()),onkeydown:e,value:l,autofocus:!l}),m("input[type=text][placeholder=filter]",{oninput:o=>Cn(o.target.value.trim()),onkeydown:e,value:n}),m("label",[m("span"+b`va bottom`,"NSFW "),m(kn,{value:i,ontoggle:()=>(vn(),st(l))})]))}}}const er=()=>{let e=!0;const n=Tr(Br(250,o=>{const f=o.target.scrollTop,h=e;e=f<50,o.target.scrollHeight-(window.innerHeight+f)<window.innerHeight?bn():h!==e&&m.redraw()})),i=m.route.param("key");i?st(i):K.posts.length&&ct();let l;return{view:()=>{const{posts:o,loading:f,nightMode:h,subreddit:u,failed:s,openPost:p,limit:A}=K;return!f&&o.length>0&&o.length<=A+sn&&A!==l&&st(u,!0),l=A,m("main"+b`pin;ta center;overflow auto`,{onscroll:n,class:p?b`overflow hidden;pr 20`:""},[m("div.theme-changer"+b`
              position fixed;t 5;r 25
              cursor pointer
              user-select none
              z-index 100
            `,{onclick:()=>gt(),class:e?"":b`fade 0; :hover { fade 1 }`},h?Wt.moon:Wt.sun),m("div"+b`mt ${o.length?"10":"15%"};transition margin-top 1s ease`,m("h1.page-title"+b`fs $title-text`,"Ayy Rmao"),m(qn),m("p"+b`fs $small-text;mb 40px`,s?"Failed to load subreddit. Please check name and try again.":u?"":"Please enter a subreddit and press enter.")),p?m(Dn):"",m(Mn,{posts:o}),f&&m("div"+b`ta center`,pt())])}}},In={initial:{nsfw:!1,filter:"",commentSort:"confidence",nightMode:!1,...Sr(localStorage.ayyRmaov1),openPost:null,loading:!1,borders:lt.day,limit:3,subreddit:"",posts:[]},services:[e=>{localStorage.ayyRmaov1=JSON.stringify(de(e,{openPost:void 0,posts:void 0,subreddit:void 0}))}]},vr=qr({merge:de,stream:Nr,app:In}),{update:te}=vr,{states:Nn}=vr;let K;Nn.map(e=>K=e).map(m.redraw);gt(K.nightMode);window.addEventListener("keydown",e=>{e.code==="KeyN"&&e.target.nodeName!=="INPUT"&&(e.preventDefault(),gt())});m.route(Pr("app"),"/",{"/":er,"/r/:key":er});
